# リリースごとのシンプルタスクリスト

## Ver 1: ![[ファイル名]] 展開コピー

# inlined Copy 拡張機能開発タスクリスト

## 完了したタスク ✅

### タスク1: 基本構造の準備
- [x] yo codeによる拡張機能スキャフォールド作成
- [x] package.jsonの設定（コマンド登録、キーボードショートカット、アクティベーションイベント）
- [x] extension.tsの基本構造実装（アクティベーション処理、コマンド登録）
- [x] GitHubリポジトリ初期化 & README記載

### タスク2: コマンド「Copy Inline」の実装
- [x] エディタのアクティブテキストを取得し、正規表現で![[ファイル名]]パターンを検出
- [x] ファイルパス解決ロジック実装（絶対パス・相対パスの両方に対応）
- [x] 指定ファイルを読み込んでテキストにインライン展開（複数パターン対応）
- [x] 結合結果をクリップボードへコピーおよび成功通知表示

### タスク3: 基本的なエラー処理
- [x] ファイルが見つからない場合のエラーハンドリング
- [x] ユーザーへの情報・警告・エラーメッセージ表示機能
- [x] エラーログ出力機能

### タスク4: 基本ドキュメント
- [x] インストール手順の具体化
- [x] 使用方法のステップバイステップガイド
- [x] 次期バージョンの開発計画更新

## 残りのタスク

### タスク5: 拡張エラー処理 ⚠️
- [ ] 大量/重複/循環参照の検出と対応
- [ ] パフォーマンス最適化と大容量ファイル対応

### タスク6: テスト拡充 ⚠️
- [ ] 単体テストの拡充（ファイル検出、パス解決、テキスト置換など）
- [ ] 統合テストの実装（エンドツーエンドのテスト）
- [ ] 手動テストのチェックリスト作成
- [ ] エッジケースのテスト（大容量ファイル、特殊文字を含むパスなど）

### タスク7: デプロイと公開準備 ❌
- [ ] VSIX パッケージの作成とローカルテスト
- [ ] 公開用アセット準備（アイコン、スクリーンショット、詳細説明）
- [ ] 独立したライセンスファイルの追加
- [ ] 初期バージョンのリリースノート作成

### タスク8: 追加ドキュメント ⚠️
- [ ] トラブルシューティングセクションの強化
- [ ] 開発者向けドキュメントの作成（コントリビューションガイド）
- [ ] サンプル使用例の追加

### タスク9: インテリジェントなファイルパス解決の実装 ⚠️
- [ ] プロジェクトルートからの絶対パス検索機能の実装
- [ ] 近接性ベースの相対パス検索ロジックの追加
- [ ] 複数候補がある場合のユーザー選択UIの実装
- [ ] エラーメッセージの改善と検索候補の提示機能
- [ ] 検索パフォーマンスの最適化（キャッシュ機構など）

## 次の優先タスク
1. テスト拡充 - 機能の安定性確保が最優先
2. 拡張エラー処理 - ユーザー体験向上のため
3. デプロイ準備 - 初期リリースに向けた準備
4. Lint + Prettierの連携を強化するかは運用次第

## Ver 2: ![[ファイル名#見出し名]] 展開コピー

1. **見出しセクション抽出の実装**
   * #見出し名をパターン解析し、対象ファイルをMarkdownパース
   * 指定見出しから次の同レベル見出し手前までを抽出

2. **ユニットテスト**
   * 複数見出し、階層見出し、見出しが存在しないケースのテスト

3. **ドキュメント更新 (README)**
   * #指定のサンプル追加

## Ver 3: 参照タグの補完機能

1. **ファイル名補完**
   * ![[ と入力した時点でワークスペース内ファイル一覧をサジェスト

2. **見出し名補完**
   * ![[some.md# と入力したとき、some.md中の見出し一覧をサジェスト

3. **設定項目の追加 (オプション)**
   * 自動補完のオン/オフ

## Ver 4: {{パラメータ名}} 入力機能 – Key-Value

1. **単一パラメータの置換ロジック**
   * テキスト解析時に{{xxxx}}を見つけたらユーザーに入力ダイアログ表示
   * 取得した値で置換

2. **複数パラメータの連続処理**
   * 同じ文書内で複数回{{...}}が出現したら、必要回数だけポップアップを出す

3. **ドキュメント更新**
   * 例: Hello, {{name}}! → Hello, Devin!

## Ver 5: {{パラメータ名=初期値}} 入力機能

1. **初期値付きパラメータのパース**
   * {{name=Devin}} → ポップアップ時の初期入力 = "Devin"

2. **空入力時に初期値をデフォルト利用**
   * 入力せずOKを押した場合

3. **テストケース**
   * 初期値あり & なし
   * 大量パラメータ

## Ver 6: {{パラメータ名}} – JSON形式一括対応

1. **JSON入力モード**
   * 「すべてのパラメータを一度に入力する」オプションを追加
   * ユーザーがJSON { \"name\": \"Devin\", ... } を入力 → 全置換

2. **文書内のパラメータ抽出**
   * パラメータ名をリスト化してJSONエディタへ

3. **エラー処理**
   * JSONパースエラー時のハンドリング

## Ver 7: Markdownプレビュー統合

1. **プレビューフックの実装**
   * Markdownプレビューのレンダラー拡張
   * ![[...]] や {{...}} をリアルタイムで展開表示

2. **UI要素追加**
   * プレビュー上で「コピー」ボタンを提供するなど

3. **パフォーマンス検証**
   * 大きなファイルや複雑な参照でもスムーズに動くか