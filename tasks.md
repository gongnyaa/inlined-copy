# リリースごとのシンプルタスクリスト

## Ver 1: ![[ファイル名]] 展開コピー

### 1. 基本構造の準備
* yo codeによる拡張機能スキャフォールド作成
* package.jsonの設定（コマンド登録、キーボードショートカット、アクティベーションイベント）
* extension.tsの基本構造実装（アクティベーション処理、コマンド登録）
* GitHubリポジトリ初期化 & README記載

### 2. コマンド「Expand and Copy」の実装
* エディタのアクティブテキストを取得し、正規表現で![[ファイル名]]パターンを検出
* ファイルパス解決ロジック実装（絶対パス・相対パスの両方に対応）
* 指定ファイルを読み込んでテキストにインライン展開（複数パターン対応）
* 結合結果をクリップボードへコピーおよび成功通知表示

### 3. エラー処理 & フィードバック実装
* ファイルが見つからない場合のエラーハンドリング
* 大量/重複/循環参照の検出と対応
* ユーザーへの情報・警告・エラーメッセージ表示機能
* エラーログ出力機能

### 4. テスト計画と実装
* 単体テストの作成（ファイル検出、パス解決、テキスト置換など）
* 統合テストの作成（エンドツーエンドの機能テスト）
* 手動テストのチェックリスト作成
* エッジケースのテスト（大容量ファイル、特殊文字を含むパスなど）

### 5. デプロイと公開準備
* VSIX パッケージの作成とローカルテスト
* 公開用アセット準備（アイコン、スクリーンショット、詳細説明）
* ライセンスファイルの追加
* 初期バージョンのリリースノート作成

### 6. ドキュメント更新
* インストール手順の具体化
* 使用方法のステップバイステップガイド
* トラブルシューティングセクションの追加
* 次期バージョンの開発計画更新

## Ver 2: ![[ファイル名#見出し名]] 展開コピー

1. **見出しセクション抽出の実装**
   * #見出し名をパターン解析し、対象ファイルをMarkdownパース
   * 指定見出しから次の同レベル見出し手前までを抽出

2. **ユニットテスト**
   * 複数見出し、階層見出し、見出しが存在しないケースのテスト

3. **ドキュメント更新 (README)**
   * #指定のサンプル追加

## Ver 3: 参照タグの補完機能

1. **ファイル名補完**
   * ![[ と入力した時点でワークスペース内ファイル一覧をサジェスト

2. **見出し名補完**
   * ![[some.md# と入力したとき、some.md中の見出し一覧をサジェスト

3. **設定項目の追加 (オプション)**
   * 自動補完のオン/オフ

## Ver 4: {{パラメータ名}} 入力機能 – Key-Value

1. **単一パラメータの置換ロジック**
   * テキスト解析時に{{xxxx}}を見つけたらユーザーに入力ダイアログ表示
   * 取得した値で置換

2. **複数パラメータの連続処理**
   * 同じ文書内で複数回{{...}}が出現したら、必要回数だけポップアップを出す

3. **ドキュメント更新**
   * 例: Hello, {{name}}! → Hello, Devin!

## Ver 5: {{パラメータ名=初期値}} 入力機能

1. **初期値付きパラメータのパース**
   * {{name=Devin}} → ポップアップ時の初期入力 = "Devin"

2. **空入力時に初期値をデフォルト利用**
   * 入力せずOKを押した場合

3. **テストケース**
   * 初期値あり & なし
   * 大量パラメータ

## Ver 6: {{パラメータ名}} – JSON形式一括対応

1. **JSON入力モード**
   * 「すべてのパラメータを一度に入力する」オプションを追加
   * ユーザーがJSON { \"name\": \"Devin\", ... } を入力 → 全置換

2. **文書内のパラメータ抽出**
   * パラメータ名をリスト化してJSONエディタへ

3. **エラー処理**
   * JSONパースエラー時のハンドリング

## Ver 7: Markdownプレビュー統合

1. **プレビューフックの実装**
   * Markdownプレビューのレンダラー拡張
   * ![[...]] や {{...}} をリアルタイムで展開表示

2. **UI要素追加**
   * プレビュー上で「コピー」ボタンを提供するなど

3. **パフォーマンス検証**
   * 大きなファイルや複雑な参照でもスムーズに動くか