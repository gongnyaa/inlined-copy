# inlined Copy 拡張機能開発タスクリスト

## 完了したタスク ✅

### タスク1: 基本構造の準備

- [x] yo codeによる拡張機能スキャフォールド作成
- [x] package.jsonの設定（コマンド登録、キーボードショートカット、アクティベーションイベント）
- [x] extension.tsの基本構造実装（アクティベーション処理、コマンド登録）
- [x] GitHubリポジトリ初期化 & README記載

### タスク2: コマンド「Copy Inline」の実装

- [x] エディタのアクティブテキストを取得し、正規表現で![[ファイル名]]パターンを検出
- [x] ファイルパス解決ロジック実装（絶対パス・相対パスの両方に対応）
- [x] 指定ファイルを読み込んでテキストにインライン展開（複数パターン対応）
- [x] 結合結果をクリップボードへコピーおよび成功通知表示

### タスク3: 基本的なエラー処理

- [x] ファイルが見つからない場合のエラーハンドリング
- [x] ユーザーへの情報・警告・エラーメッセージ表示機能
- [x] エラーログ出力機能

### タスク4: 基本ドキュメント

- [x] インストール手順の具体化
- [x] 使用方法のステップバイステップガイド
- [x] 次期バージョンの開発計画更新

### タスク4.5: パラメータ処理の拡張 ✅

- [x] 単一パラメータの置換ロジック基本実装
- [x] パラメータ処理用の再帰深度設定の分離
- [x] パラメータ展開の再帰制御機能
- [x] テストケースの拡充

### タスク5: 拡張エラー処理 ✅

- [x] 大量/重複/循環参照の検出と対応
- [x] パフォーマンス最適化と大容量ファイル対応
- [x] カスタムエラークラスの実装
- [x] 再帰深度制限の実装

### タスク9: インテリジェントなファイルパス解決の実装 ✅

- [x] プロジェクトルートからの絶対パス検索機能の実装
- [x] 近接性ベースの相対パス検索ロジックの追加
- [x] 複数候補の場合の近接性に基づく自動選択機能の実装
- [x] エラーメッセージの改善と検索候補の提示機能
- [x] 検索パフォーマンスの最適化（キャッシュ機構の導入）
- [x] FileSystemWatcherによるキャッシュの自動更新機能
- [x] 検索深度のユーザー設定オプション実装
- [x] 型安全性の向上（FileResult型の導入）

## 進行中のタスク 🔄

### タスク6: テスト拡充

- [x] 単体テスト実装（FileResolverなど）
- [x] 統合テスト実装（FileExpanderとFileResolverの連携）
- [x] VS Code APIのモック実装の改善
- [x] 再帰深度テストの追加
- [ ] LogManagerの導入
- [ ] 手動テストのチェックリスト作成
- [ ] Lint + Prettierの連携を強化
- [ ] エッジケースのテスト（大容量ファイル、特殊文字を含むパスなど）

### タスク8: 追加ドキュメント

- [x] プロジェクト固有の知識セクション追加（VS Code API、テスト、非同期処理）
- [x] エラー処理と設定オプションのドキュメント追加
- [x] READMEの英語統一
- [ ] 使い方セクションの拡充（ユースケース例など）
- [ ] トラブルシューティングセクションの強化
- [ ] 開発者向けドキュメントの作成（コントリビューションガイド）
- [ ] サンプル使用例の追加

## 残りのタスク ⏳

### タスク7: デプロイと公開準備

- [ ] VSIX パッケージの作成とローカルテスト
- [ ] 公開用アセット準備（アイコン、スクリーンショット、詳細説明）
- [ ] 独立したライセンスファイルの追加
- [ ] 初期バージョンのリリースノート作成

## リリースごとのシンプルタスクリスト

### Ver 1: ![[ファイル名]] 展開コピー ✅

- [x] 基本機能実装（タスク1〜4）
- [x] インテリジェントなファイルパス解決（タスク9）
- [x] 拡張エラー処理（タスク5）
- [x] パラメータ処理の拡張（タスク4.5）
- [ ] テスト拡充と完了（タスク6の残り）
- [ ] ドキュメント完成（タスク8の残り）
- [ ] デプロイと公開（タスク7）

### Ver 2: ![[ファイル名#見出し名]] 展開コピー

- [ ] 見出しセクション抽出機能実装
- [ ] マルチレベル見出し対応
- [ ] 複数セクション対応

### Ver 3: 参照タグの補完機能

- [ ] ファイル名補完機能
- [ ] 見出し名補完機能
- [ ] 設定オプションの追加

### Ver 4: {{パラメータ}} 入力機能の拡張

- [x] 基本的なパラメータ処理
- [ ] 複数パラメータの連続処理の最適化
- [ ] 未入力時はそのまま出力
- [ ] パラメータ入力UIの改善
- [ ] デフォルト値のサポート

### Ver 5: {{パラメータ=デフォルト値}} 入力'

### Ver 6: {{パラメータ}} 入力 (JSON)

### Ver 7: Markdownプレビュー統合
